<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../../css/TIL_style.css">
    <title>Title</title>
</head>
<body>
<section class="ftco-section">
    <div class="row justify-content-center">
        <div class="col-md-6 text-center mb-5">
            <h2 class="heading-section">2024년 4월 22일 오후</h2>
        </div>
    </div>
    <div class="remote">
        <button onclick="goBack()" class="btn btn-primary">뒤로가기</button>
    </div>
    <div class="position-center">
        <div class="code-area">
            <h4 class="code-head">세션에 값 저장 후 출력</h4>
            <h5 class="code-head">세션 설정</h5>
            <xmp class="code-text">
<%@ page import="static java.lang.System.out" %>
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<html>
<head>
</head>
<body>
<h1>세션 설정하기</h1>
    <%
    //세션에 값 저장
        session.setAttribute("id", "jihun");
        session.setAttribute("password", "1234");
        session.setAttribute("age", "27");
    %>
    <a href="getSession.jsp">세션 확인하러 가보기</a>

</body>
</html>
            </xmp>
            <h5 class="code-head">세션에서 값을 얻어서 출력</h5>
            <xmp class="code-text">
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<html>
<head>
    <title>Title</title>
</head>
<body>
    <h3>페이지에서 얻어온 세션</h3>

    <%--<%--%>
    <%--    Enumeration names = session.getAttributeNames();--%>

    <%--    while(names.hasMoreElements()) {--%>
    <%--        String name = (String) names.nextElement();--%>
    <%--        String value = session.getAttribute(name).toString();--%>
    <%--        out.print(name + " : " + value + "<br>");--%>
    <%--    }--%>
    <%--%>--%>

    <%
        // 위와 아래의 코드 모두 결과는 동일
        String id = (String) session.getAttribute("id");
        String password = (String) session.getAttribute("password");
        String age = (String) session.getAttribute("age");
    %>

    <%=id%><br>
    <%=password%><br>
    <%=age%><br>
</body>
</html>
            </xmp>
            <h4 class="code-head">text필드로 좋아하는 색, 음악을 입력받아서 다른 페이지에서 출력(빈 사용)</h4>
            <h5 class="code-head">빈</h5>
            <xmp class="code-text">
package com.jihun.jihunArtifact;

import lombok.Data;

@Data
public class favoBean {
    private String color;
    private String music;
}
            </xmp>
            <h5 class="code-head">입력 폼</h5>
            <xmp class="code-text">
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<html>
<head>
</head>
<body>
    <form action="favorite.jsp" method="post">
        좋아하는 색: <input type="text" name="color" placeholder="좋아하는 색을 입력하세요"><br>
        좋아하는 음악: <input type="text" name="music" placeholder="좋아하는 음악을 입력하세요"><br>
        <input type="submit" value="제출">
    </form>
</body>
</html>
            </xmp>
            <h5 class="code-head">빈에 값을 저장 후 출력</h5>
            <xmp class="code-text">
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<html>
<head>
</head>
<body>
    <jsp:useBean id="favoriteBean" class="com.jihun.jihunArtifact.favoBean">
        <jsp:setProperty name="favoriteBean" property="*" />
    </jsp:useBean>

    <h1>좋아하는 색: <jsp:getProperty name="favoriteBean" property="color"/></h1>
    <h1>좋아하는 음악: <jsp:getProperty name="favoriteBean" property="music"/></h1>
</body>
</html>
            </xmp>
        </div>
    </div>
</section>

<script>
    function goBack() {
        window.history.back();
    }
</script>
</body>
</html>
