<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../../css/TIL_style.css">
    <title>Title</title>
</head>
<body>
<section class="ftco-section">
    <div class="row justify-content-center">
        <div class="col-md-6 text-center mb-5">
            <h2 class="heading-section">2024년 4월 19일 오후</h2>
        </div>
    </div>
    <div class="remote">
        <button onclick="goBack()" class="btn btn-primary">뒤로가기</button>
    </div>
    <div class="position-center">
        <div class="code-area">
            <h4 class="code-head">페이지 내에서 저장한 값을 불러올 경우</h4>
            <xmp class="code-text">
<%@ page import="static java.lang.System.out" %>
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<html>
<head>
</head>
<body>
<%
    pageContext.setAttribute("name", "성진");
    request.setAttribute("name", "승빈");
    session.setAttribute("name", "태경");
    application.setAttribute("name", "재완");

    out.println(pageContext.getAttribute("name") + "<br>");
    out.println(request.getAttribute("name") + "<br>");
    out.println(session.getAttribute("name") + "<br>");
    out.println(application.getAttribute("name") + "<br>");

    // request, response 객체를 유지하면서 페이지 이동
    // request.getRequestDispatcher("result.jsp").forward(request, response);
%>
</body>
</html>
            </xmp>
            <h4 class="code-head">포워드로 이동할 경우</h4>
            <xmp class="code-text">
<%@ page import="java.net.URLEncoder" %>
<%@ page import="java.nio.charset.StandardCharsets" %>
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<html>
<head>
    <title>Title</title>
</head>
<body>
<%
    request.setCharacterEncoding("UTF-8");
    String myId = "jihun";
    String id = request.getParameter("id");
    String myPassword = "1234";
    String password = request.getParameter("userPassword");
    String name = "엄지훈";
    int age = Integer.parseInt(request.getParameter("age"));

    if(myId.equals(id) && password.equals(myPassword) && age > 15) {
        //리퀘스트에 값들을 저장 후 페이지를 넘어감
        request.setAttribute("name", name);
        RequestDispatcher dispatcher = request.getRequestDispatcher(("result.jsp"));
        dispatcher.forward(request, response);
    }else{
        response.sendRedirect("practice.jsp");
    }
%>
</body>
</html>
            </xmp>
            <h4 class="code-head">리다이렉트로 페이지를 이동할 경우</h4>
            <xmp class="code-text">
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<html>
<head>
</head>
<body>
<%
    request.setCharacterEncoding("UTF-8");

    out.print(pageContext.getAttribute("name") + "<br>");
    out.print(request.getAttribute("name") + "<br>");
    out.print(session.getAttribute("name") + "<br>");
    out.print(application.getAttribute("name") + "<br>");
%>
</body>
</html>
            </xmp>
        </div>
    </div>
</section>

<script>
    function goBack() {
        window.history.back();
    }
</script>
</body>
</html>
